---
title: 以太网之mtu
date: 2018-02-27 15:40:51
tags:
	- 以太网

---



# 为什么以太网的mtu是1500？

1、默认的mtu是1500字节。

2、以太网的mtu范围是64字节到1518字节。

3、现在的以太网接口都可以把mtu配置成一个远大于1500的数值。



最早的以太网的工作方式是载波多路复用/冲突检测。英文是CSMA/CD。

因为网络是公共的，任何一个节点在发送数据之前，都要先检测一下线路上是否有数据在传输，如果有，就等到线路空闲为止。

假设有这样一个网络：

```
A -- ...中继器... -- B
```

A发出第一个bit位，到达B，而B也在发送第一个bit位，于是产生了冲突。

这个冲突信息，必须在A发完自己的数据的最后一个bit之前达到A，否则就太晚了。

这个slot time是57.6us。

对于以太网的最低速度是10Mbps，在57.6us的时间里，可以传输576个bit，就是72个字节。

然后去掉8个字节的前导符和帧开始符，就是mtu的最小值64字节了。

1500字节这个值又是根据什么来确定的呢？

ip包的长度是用2个字节来表示的，就是65536字节。这个长度，在10Mbps的以太网上，会占用线路长达50ms。这样就会严重影响其他机器的通信。

包太大了，丢包的概率也会增加。但是也不能太小，太小的话，通信效率就低了。

所以选择为1518字节。这样ip包的长度就是1500字节。

上面说的东西，都是比较久远的事情了。



现代的高速交换机让每个连接的主机在独占模式，带宽独享，可以同时收发。

速度也提高到千兆、万兆级别。

