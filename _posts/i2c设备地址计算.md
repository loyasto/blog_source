---
title: i2c设备地址计算
date: 2018-04-06 10:18:40
tags:
	- i2c

---



i2c的设备地址，由2个因素共同决定：

1、硬件引脚的电平。

2、芯片手册里的描述。



AT240C2的设备地址是这样的：

```
01010 [A2][A1][A0]
```

高5位固定为01010 。低3位由A2/A1/A0这3个引脚的电平决定。

我们如果把3个引脚都接地，那么就是0x50，我们叫addr_hw 。

然后地址不是直接用的，还要经过运算。

上面这些决定的是高7位的地址，bit0的是由操作类型来决定。1是的读，0是写。

addr_real = (addr_hw << 1) | (r/w)

所以读地址就是0xa1，写地址就是0xa0 。

