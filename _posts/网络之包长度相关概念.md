---
title: 网络之包长度相关概念
date: 2017-11-02 21:17:42
tags:
	- 网络
---



MTU

MTU跟链路层协议相关。我们以以太网的为例，因为以太网的电气特性约束，每个以太网帧都在64字节到1518自己之间。超出这个范围的都认为是错误帧。以太网转发设备会把错误帧丢掉。

1518个字节，去掉以太网本身要占用的一些字节，留给数据不符的，就是1500字节。这个1500字节就是我们的MTU了。

PPPoE

PPP协议也是一个链路层协议，跟以太网是同一层的协议。

PPP的字面含义是点对点协议。

PPPoE是在以太网上跑PPP协议，协议的层次关系，是可以把同一层的协议跑在另一个同层协议上的。

为什么会出现PPPoE这么个东西呢？是因为以太网缺乏认证计费机制，而传统运营商是通过PPP协议来对拨号等接入服务进行认证计费的。这个是不得已而为之的。

PPPoE带来了什么坏处呢？一是二次封装浪费资源，降低了效率。二是使得MTU变小了。以太网的MTU是1500字节，现在PPP要占用8个字节，所以现在MTU就变成了1492个字节了。这个时候，我们就需要改电脑的MTU设置了。

MSS

MSS是跟tcp协议相关的一个概念。是指TCP数据包每次能够传输的最大数据分段。为了达到最好的效果，通信双方会进行一个协商。一般做法是用MTU值减去20个字节的IP包头，再减去20字节的TCP包头，就是1460字节。

