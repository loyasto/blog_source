---
title: 分布式系统之分布式应用演进
date: 2018-01-06 10:13:29
tags:
	- 分布式系统

---



1、最初阶段的网站程序，应用程序、文件、数据库都在一台服务器上。

2、但是，随着访问量的增加，这台服务器的压力太大，要扛不住了，而且空间也要不足了。所以把应用、文件、数据库都放到各自的独立的服务器上。这样并发处理能力和数据存储空间得到了很大的改善。

3、系统访问特点也符合二八定律，80%的业务访问集中在20%的数据库数据上。所以，可以把最常用到的那部分放在缓存服务器上，减少数据库的访问次数，减轻数据库服务器的压力。

缓存分本地缓存和分布式缓存，本地缓存访问速度更快但是缓存数量有限，同时存在与应用争用内存的情况。

4、做完上面的操作后，数据库的压力已经降到比较低了。突然有一天，发现系统的访问又有变慢的趋势了，先看数据库，一切正常。再看web server，发现Apache阻塞了很多请求，而应用对每个请求也是比较快的，看来是请求太多了导致的排队。所以现在要做的是：解决单台服务器处理能力不足的问题。

5、解决的办法是使用集群，集群是解决高并发、海量数据的常用手段。通过向集群中追加资源，提升系统的并发处理能力，使得服务器的负载压力不再成为系统的瓶颈。

6、系统可能会存在不同的地区的用户访问速度不一样的问题，这个问题如何解决呢？使用CDN和反向代理可以加快用户访问的速度。CDN和反向代理的基本原理都是缓存。

7、接下来可以做的是使用分布式数据库和分布式文件系统。

8、随着业务越来越复杂，对数据存储和检索的需求也越来越复杂。系统需要采用非关系型数据库（例如NoSQL）和分数据库查询技术（例如搜索引擎）。

9、对于日益复杂的业务场景，通常使用分治法将整个系统分成不同的产品线，应用之间通过超链接建立关系。

10、将复杂的业务拆分出来，独立部署为分布式服务，新增业务只需要调用这些分布式服务。





