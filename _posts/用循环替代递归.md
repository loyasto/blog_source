---
title: 把递归算法改为非递归算法
date: 2017-02-26 21:16:15
tags:
	- 递归
---
在树操作的时候，经常会用到递归，但是递归的深度达到一定程度时，可能会出现堆栈溢出，所以经常会其他算法来替代递归，来防止堆栈溢出。
递归算法实质是一种分而治之的方法，它把复杂问题分解为简单问题来求解。递归算法是一种自然而合乎逻辑的解决办法。在解决问题的时候，一般用递归算法来分析问题，而用非递归算法来解决问题。而且，有些编程语言不支持递归算法。

把递归算法转换为非递归算法，有两种方法：一种是直接求值，不需要回溯，这个需要一些变量来保存中间结果，叫做直接转换法，另一种是不能直接求值，需要回溯，这个要用栈来保存中间结果，称为间接转换法。

# 1.直接转换法
通常用来消除尾递归和单向递归，将递归结构用循环结构来替代。
单向递归，函数1调用函数2，函数2又调用函数1，这个不是单向递归。
以斐波那契数列的求解为例，递归算法：
```
int fib(int n)
{
	if(n<=1)
	{
		return n;
	}
	else
	{
		return fib(n-1)+fib(n-2);
	}
}
```
改成循环的方式如下：
```
int fib(int n)
{
	if(n<=1)
	{
		return n;
	}
	int tmp1 = 0, tmp2 = 1;
	int i;
	int tmp;
	for(i=2;i<=n;i++)
	{
		tmp = tmp1+tmp2;
		tmp1 = tmp2;
		tmp2 = tmp;
	}
	return tmp;
}
```
尾递归是单向递归的特例，他的特点是：它的递归调用语句只有一个，而且是放在过程的最后。


