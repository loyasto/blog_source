---
title: 为什么uImage都放在内存开始位置偏移0x8000处
date: 2017-05-18 20:34:47
tags:

	- Linux

---

看不同的开发板，在设置bootcmd的时候，一般都看到是把uImage读取到内存开始位置往后偏移0x8000的位置？为什么都这么做呢？

网上找到的说明是：

内核内存管理需要建立MMU表，这段预留的空间就是干这个的。



 这里LINUX_KERNEL_OFFSET是0x8000，关于为什么是0x8000，这是历史原因造成的，是Linux内核的一个约定，具体可以查看Linux内核的源代码中的arch/arm/kernel/head_armv.S



本开发板上为0x30008000，在0x30008000往下，会放置16K的页表，预计是 0x8000.不过此处可能会放松这个限制。另外，我们的一些参数也会放到内存起始区域。这在后面就可以看到。总之，这个地方的位置 boot_mem_base也就是kernel的第一条指令所在地，最后的程序跳转要跳到这个位置。

