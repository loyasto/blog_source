---
title: Linux内核之IS_ERR判断
date: 2018-03-21 20:47:30
tags:
	- Linux内核

---



内核里对返回值是指针的，不是用JNULL来判断的。

（虽然很多函数都返回int值，返回指针不是很多）。

内核里的指针值，有3种情况：

1、有效。

2、无效。也叫错误指针。就是已经指向了最后一个page的。

```
对于32位机器，最后一页就是0xfffff000这里。指针值大于这个值，就是一个错误指针了。
因为正常不可能到这里的。
```



3、NULL。



返回指针的判断有这么几个宏：

```
IS_ERR
PTR_ERR
ERR_PTR
```

