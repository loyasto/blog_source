---
title: tcp之窗口分析
date: 2017-11-02 21:29:32
tags:
	- tcp
	- 网络

---



滑动窗口协议，是用来保证tcp的可靠性和进行流量控制的机制。

滑动窗口，先看看什么是窗口。

窗口对应一段可以被发送者发送的字节序列，序列连续的范围称为“窗口”。

滑动该怎么理解呢？

就是指什么的窗口的范围是可以在发送过程中变化的。



在进一步理解之前，先要清楚这几点：

1、tcp协议的通信双方，分别是发送者A和接受者B。因为是全双工的协议，所以A和B应该分别维护着一个独立的发送buffer和接收buffer。

2、发送窗口是发送buffer的一部分。

3、发送窗口相关的有4个概念：

​	已发送且已收到确认的。（这个已经不在发送窗口和发送buffer里了）

​	已发送还未收到确认的。（在发送窗口中）

​	允许发送但是还没有发送的。

​	不允许发送的（在buffer里，但是在发送窗口外）

4、在每次数据发送成功后，发送窗口就会在发送缓冲区里按顺序移动。将新的数据包含到窗口里，准备发送。

这个网站有个动画演示：

http://www.exa.unicen.edu.ar/catedras/comdat1/material/Filminas3_Practico3.swf

很简单直观的。



在A和B刚刚建立tcp连接时，B告诉A自己的接收窗口的大小是20字节。

