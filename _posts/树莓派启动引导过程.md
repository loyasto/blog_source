---
title: 树莓派启动引导过程
date: 2016-11-24 18:43:44
tags:
	- 树莓派
---
树莓派1,2,3的启动过程大致相同,主要分为3个阶段:
1.ROM上的GPU bootloader启动GPU。
2.GPU启动CPU。
3.CPU直接启动内核或通过u-boot启动内核.

GPU其实是用来处理图形的。上电后首先运行的是GPU里的一个RISC小核心，这个小核心就像单片机，在芯片内的Flash预先烧录了一段程序，这段程序在上电后开始运行，它的功能是用FAT32挂载SD卡。挂载之后，就从SD卡的boot分区里读取bootcode.bin到DDR里运行，这个bootcode.bin就是一个bootloader。bootloader把start.elf文件读取到内存，然后在启动GPU，GPU运行start.elf程序，开始一系列的配置，然后再把内核镜像kernel.img读取到内存，然后控制权转移给CPU执行。



由于树莓派涉及到GPU的东西不开源,移植u-boot到树莓派并不是真正意义上的bootloader,
但是鉴于u-boot广泛的应用,还是很有学习的必要。
