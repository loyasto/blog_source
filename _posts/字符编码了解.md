---
title: 字符编码了解
date: 2017-10-09 22:18:28
tags:
	- 编码

---



1、编码的起源就是ASCII码。ASCII码只用了一个字节的低7位。

2、随着计算机的发展，很快就发现了问题，ASCII码表示不了欧洲的某些字母文字。不是还有128到255这些当前没有用嘛。拿过来用。对于欧洲的字母，也勉强可以塞进去了。

这个时候就得到了扩展字符集。

3、等计算机传到中国来的时候，发现没法表示中文了。我们就想了个办法，把128到255的这些欧洲字母，我们不用。而且我们做了一个规定，如果一个字节的值小于127，那么含义还是表示对于的ASCII字符，当连续2个字符都大于127的时候，我们就说，这2个字节表示一个汉字。前一个字节的范围是0xA1到0xF7，后面一个字节的范围是0xA1到0xFE。这么一组合，我们可以塞进去7000个左右的汉字。我们常用汉字没这么多，我们还一起把希腊字母、日文等东西也塞进去了。还有一些全角标点，也塞在这里。我们把这一套叫做GB2312。这个一个对ASCII的中文扩展。

4、但是，很快我们就发现了新的问题，上面的方案可以塞进去的汉字不多。麻烦的是，国家领导人的名字都没包含进去。我们就把上面还有些没用占用的位置也找出来用。还是不够。我们就干脆改了上面的规定，只要第一个是大于127的就表示汉字了，后面一个的范围不要求大于127，这样把范围又扩大了。我们把这个方案叫做GBK方案。GBK兼容了GB2312，增加了大概2万个汉字的容量。再后来，我们又增加了一些少数民族的文字进去，就得到了GB18030的方案。这个方案叫做双字节字符集。我们把自己的事情终于搞定了。

5、当时，不只是中国这么干，其他国家也干了类似的事情，而且大家相互不兼容。容易导致乱码。

6、国际标准化组织终于出手了。他们的方案简单粗暴，废除所有的地区性的编码方案，重新搞一套可以包含地球上所有文字的编码。这就是Unicode。

开始搞Unicode的时候，计算机已经不缺空间了。于是ISO就规定必须用2个字节来表示字符。ASCII的那些字符，还是放在最前面，数值和单个字节的是相等的，但是还是要占用2个字节的空间。这个方案导致了空间的浪费。

Unicode在很长一段时间里没法推广开来，知道互联网的出现，为了解决Unicode在网络上的传输的问题，各种UTF开始出来了。UTF表示Transfer Format。UTF-8表示每次8个bit传输，UTF-16就是每次16bit。

UTF-8是一种使用最高分的Unicode编码形式。

UTF-8的最大特点就是，它是一种边长的编码。它的长度是1个4个字节不等。

从Unicode到UTF-8是要经常算法来转换的。

Unicode是字符集。UTF-8是编码规则。

字符集是给每一个字符分配了一个ID。







