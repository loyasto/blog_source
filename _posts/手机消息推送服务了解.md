---
title: 手机消息推送服务了解
date: 2017-10-11 21:43:12
tags:
	- mqtt

---



消息推送服务是App开发中必备的一个功能，及时将消息推送给用户。

一般推送服务有三种常见的方式：

1、轮询方式。

客户端不断查询服务器。这个比较耗电，还费流量。

2、长连接方式。

客户端和服务器维持一个tcp长连接。服务端向客户端推送消息。长连接也耗电。但是是目前最主流的方式。

苹果的APNS和谷歌的GCM都是这种方式。

3、短信方式。

这个费钱。体验也不好。



# 苹果的推送分析

这个是系统来负责的，不属于某个App。iOS里，是App开发人员把消息先推送到苹果的消息服务器APNS上。由苹果统一推送到客户端。

苹果的这种做法的好处有：

1、长连接是系统来维持的，不会因为App被杀掉而导致连接断掉。

2、省电了。

3、开发者也省心了。

# 谷歌的做法

谷歌的方式跟苹果的原理是一样的。但是国内用不了。怎么办？App开发者只好自己来做这个事情。



总的来说，mqtt来做这个推送服务都是一个当前比较好的做法。

